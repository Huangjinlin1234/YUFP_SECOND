!function(e,a,l){var i,o=[];e.component("yufp-addr-selector",{template:'<div>                  <template><el-cascader v-model="selectedVal" :options="options"                     :props="props" @change="handleChange" :disabled="disabled" :placeholder="placeholder"></el-cascader></template>            </div>',props:{name:{type:String},value:{required:!0},rawValue:String,size:String,disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"区域编码"},icon:{type:String,default:"search"},params:Object},data:function(e){return{props:{value:"enname",label:"cnname"},selectedVal:null,options:[]}},methods:{loadData:function(){var t=this,r={id:"enname",pid:"abvenName",root:"100000",label:"cnname"},e=backend.consoleService+"/api/s/dic/trees/area/code";yufp.service.request({method:"POST",url:e,async:!0,callback:function(e,a,l){if(0==e&&l&&l.data){var n=yufp.util.array2tree(l.data,r);n=t.delChildren(n),o=n.children,t.options=o,t.value&&""!=t.value&&t.searchSelectVal(t.value)}}})},delChildren:function(e){if(0<=e.children.length)for(var a=0;a<e.children.length;a++)0==e.children[a].children?delete e.children[a].children:this.delChildren(e.children[a]);return e},handleChange:function(e){if(e&&yufp.isArray(e)){this.$emit("input",e[e.length-1]);for(var a=[],l=0;l<e.length;l++)i=null,this.queryAreaByCode(this.options,e[l]),i&&a.push(i);for(var n="",t=0;t<a.length;t++)t<a.length-1?n+=a[t].cnname+"->":n+=a[t].cnname;var r={allName:n,areaArr:e,areaObjArr:a};this.$emit("select-fn",e[e.length-1],r)}},searchSelectVal:function(e){var a;if(this.selectedVal=[],null!=e&&void 0!==e&&""!=e&&(i=null,0<o.length&&0==this.options.length?this.options=o:0==o.length&&this.loadData(),this.queryAreaByCode(this.options,e),i&&(a=i.locate),null!=a&&void 0!==e)){var l=a.split(",");if(l&&yufp.isArray(l)&&1<l.length){for(var n=[],t=1;t<l.length;t++)n.push(l[t]);this.selectedVal=n}}},queryAreaByCode:function(e,a){var l;if(e&&yufp.isArray(e))for(var n=0;n<e.length;n++)(l=e[n]).enname==a?i=l:this.queryAreaByCode(l,a);else if(e&&e.enname==a)i=e;else if(e&&e.children&&yufp.isArray(e.children))for(var t=0;t<e.children.length;t++)(l=e.children[t]).enname==a?i=l:this.queryAreaByCode(l,a)}},mounted:function(){0<o.length?this.options=o:this.loadData()},watch:{value:function(e){this.searchSelectVal(e)},rawValue:function(e){this.selectedVal=e}}})}(Vue,yufp.$);