!function(e,i,l){e.component("div-biz-flow-info-selector",{template:'<div>            <el-input v-model="selectedVal" readonly :placeholder="placeholder" :disabled="disabled"            :size="size" :name="name" :icon="icon" :on-icon-click="onIconClickFn" @click.native="clickFn">            <el-button slot="prepend" icon="yx-list2" @click="detailClick"></el-button>            </el-input>            <el-dialog title="业务流程列表" :visible.sync="dialogVisible" if="dialogVisible">              <el-form-q :field-data="queryFields" :buttons="queryButtons"></el-form-q>              <el-table-x ref="mytable" :data-url="dataUrl" @row-click="rowClickFn"               :table-columns="tableColumns" request-type="POST" :default-load="false">              </el-table-x>              <div slot="footer" class="dialog-footer">                <el-button @click="dialogVisible = false">取 消</el-button>                <el-button type="primary" @click="confirmFn">确 定</el-button>              </div>            </el-dialog>            <el-dialog title="详情" :visible.sync="detailVisable" size="full"> <div id="bizFlowDialogDetail"></div>                <div slot="footer" class="dialog-footer"> <el-button @click="detailVisable = false">关闭</el-button> </div>            </el-dialog>          </div>',props:{name:{type:String},value:{required:!0},rawValue:String,size:String,disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},icon:{type:String,default:"search"},params:Object},data:function(){var t=this;return{selections:[],selectedVal:"",dialogVisible:!1,detailVisable:!1,isConfirm:!1,dataUrl:backend.flowService+"/api/biz/flow/infos",conditionDataUrl:backend.flowService+"/api/biz/flow/info/condition",tableColumns:[{label:"业务流转标识",prop:"bizFlowId",sortable:!0,resizable:!0},{label:"业务流转名称",prop:"bizFlowName",sortable:!0,resizable:!0},{label:"业务流转类型",prop:"bizFlowType",dataCode:"BIZ_FLOW_TYPE",sortable:!0,resizable:!0}],queryFields:[{placeholder:"业务流转标识",field:"bizFlowId",type:"input"},{placeholder:"业务流转名称",field:"bizFlowName",type:"input"}],queryButtons:[{label:"查询",op:"submit",type:"primary",icon:"search",click:function(e,i){if(i){t.selections=[];var l={};yufp.extend(l,e),yufp.extend(l,t.params),t.$refs.mytable.remoteData(l)}}}]}},methods:{clickFn:function(){this.$emit("click-fn",this)},onIconClickFn:function(e){this.disabled||(this.dialogVisible=!0,this.params&&"condition"==this.params.query&&(this.dataUrl=this.conditionDataUrl),this.$nextTick(function(){this.$refs.mytable.remoteData(this.params)}))},rowClickFn:function(e){this.selections=this.$refs.mytable.selections},confirmFn:function(){this.selections.length<1?this.$message("请先选择一条数据"):(this.isConfirm=!0,this.selectedVal=this.selections[0].bizFlowName,this.$emit("input",this.selections[0].bizFlowId),this.$emit("select-fn",this.selections[0].id,this.selections[0]),this.dialogVisible=!1)},getRawValue:function(){return this.selectedVal},convertKey:function(e){return e},detailClick:function(){""!=this.value?(this.detailVisable=!0,this.$nextTick(function(){var e={bizFlowId:this.value};yufp.router.to("FLOW_BizFlowInfoDetail",e,"bizFlowDialogDetail")})):this.$message({message:"请先选择一条记录,再查看详情!",type:"warning"})}},mounted:function(){this.selectedVal=this.rawValue?this.rawValue:this.value},watch:{value:function(e){1==this.isConfirm&&(this.selectedVal=this.selectedVal?this.selectedVal:e,this.isConfirm=!1)},rawValue:function(e){this.selectedVal=e}}})}(Vue,yufp.$);