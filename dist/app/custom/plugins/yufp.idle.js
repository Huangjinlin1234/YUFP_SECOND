!function(t,e,i){if("function"==typeof define){var s=i(e,t);define(s),t.idle=s}else{s=i(e,t);t.idle=s}}(yufp,window,function(l,m){var t=l.document;function i(t){this.lastOpsTime=(new Date).getTime(),this.seed=-1,this.timeRegister={},this.clockRegister={},this.interval=t||200}i.prototype._getTimerId=function(){return this.seed++,this.seed<0&&(this.seed=0),this.seed.toString()},i.prototype.setLastOpsTime=function(t){this.lastOpsTime=t},i.prototype.getLastOpsTime=function(){return this.lastOpsTime},i.prototype.setTimeout=function(t,e){if(!this.timer){var s=this;this.timer=l.setInterval(function(){var t=(new Date).getTime()-s.getLastOpsTime();for(var e in s.timeRegister){var i=s.timeRegister[e];t>=i.timeout&&(delete s.timeRegister[e],l.setTimeout(i.callback,0))}},this.interval)}var i={callback:t,timeout:e},r=this._getTimerId();return this.timeRegister[r]=i,r},i.prototype.clearTimeout=function(t){delete this.timeRegister[t]},i.prototype.clearAllTimeout=function(){this.timeRegister=[]},i.prototype.setClock=function(t,i,s,r,n){if("number"==m.type(i)&&(r=i,n=s,s=i=void 0),!this.clocker){var o=this;this.clocker=l.setInterval(function(){var t=(new Date).getTime()-o.getLastOpsTime();for(var i in o.clockRegister)try{var s=o.clockRegister[i];if(t>=s.timeout){if("wait"==s.state){s.state="running",s.startFn&&s.startFn();i=l.setInterval(s.stepFn,s.interval);s.id=i}}else"running"==s.state&&(delete o.clockRegister[i],s.state="close",l.clearInterval(s.id),s.stopFn())}catch(t){m.logger.error(e.message,e)}},this.interval)}var a={stepFn:t,startFn:i,stopFn:s,timeout:r,interval:n,state:"wait"},c=this._getTimerId();return this.clockRegister[c]=a,c},i.prototype.clearClock=function(t){var e=this.clockRegister[t];if(delete this.clockRegister[t],e&&e.id)try{l.clearInterval(e.id)}catch(t){}},i.prototype.clearAllClock=function(){for(var t in _this.clockRegister)this.clearClock(t)};var s=new i;return t.onmousedown=function(t){var e=(new Date).getTime();s.setLastOpsTime(e)},t.onmousemove=function(t){var e=(new Date).getTime();s.setLastOpsTime(e)},t.onkeydown=function(t){var e=(new Date).getTime();s.setLastOpsTime(e)},s});