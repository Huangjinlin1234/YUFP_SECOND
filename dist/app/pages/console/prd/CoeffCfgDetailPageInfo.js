define(function(e,t){t.ready=function(e,t,i){yufp.lookup.reg("CRUD_TYPE,STD_ZB_REG_TYPE_REVENUE"),yufp.custom.vue({el:i.el,data:function(){var a=this;return{dataUrl:backend.consoleService+"/api/prd/coeff/cfgs",baseParams:{},queryFields:[{placeholder:"单位注册类型",field:"typeId",type:"select",dataCode:"STD_ZB_REG_TYPE_REVENUE"}],queryButtons:[{label:"查询",op:"submit",type:"primary",icon:"search",click:function(e,t){t&&a.$refs.reftable.remoteData(e)}},{label:"重置",op:"reset",type:"primary",icon:"yx-loop2"}],tableColumns:[{label:"单位注册类型",prop:"typeId",sortable:!0,resizable:!0,dataCode:"STD_ZB_REG_TYPE_REVENUE"},{label:"系数",prop:"coefficient",sortable:!0,resizable:!0},{label:"调整次数",prop:"changeNum",sortable:!0,resizable:!0},{label:"法人机构",prop:"legalOrgCode",sortable:!0,resizable:!0,hidden:!0},{label:"法人机构",prop:"legalOrgCodeName",sortable:!0,resizable:!0},{label:"最后修改日期",prop:"lastUpdateTime",sortable:!0,resizable:!0}],updateFields:[{columnCount:3,fields:[{field:"typeId",label:"类型代码"},{field:"coefficient",label:"系数"},{field:"changeNum",label:"调整次数"},{field:"legalOrgCode",label:"机构法人代码"},{field:"createUser",label:"创建人"},{field:"createTime",label:"创建日期"},{field:"createOrgCode",label:"创建人所属机构"},{field:"lastUpdateUser",label:"最后修改人"},{field:"lastUpdateTime",label:"最后修改日期"}]}],updateButtons:[{label:"返回",type:"primary",icon:"yx-undo2",hidden:!1,click:function(e){a.dialogVisible=!1}},{label:"保存",type:"primary",icon:"check",hidden:!1,click:function(e){var t=!1;if(a.$refs.reform.validate(function(e){t=e}),t){var i="";"EDIT"==a.viewType?i="PUT":"ADD"==a.viewType&&(i="POST"),yufp.service.request({method:i,url:"/api/coeff/cfg",data:e,callback:function(e,t,i){0==e?(a.$refs.reftable.remoteData(),a.$message("操作成功"),a.dialogVisible=!1):a.$message("操作失败")}})}}}],height:yufp.frame.size().height-103,dialogVisible:!1,formDisabled:!1,viewType:"DETAIL",viewTitle:yufp.lookup.find("CRUD_TYPE",!1)}},methods:{checkPermission:function(e){return!yufp.session.checkCtrl(e,i.menuId)},switchStatus:function(e,t){var i=this;i.viewType=e,i.updateButtons[1].hidden=!t,i.formDisabled=!t,i.dialogVisible=!0},addFn:function(){var e=this;e.switchStatus("ADD",!0),e.$nextTick(function(){e.$refs.reform.resetFn()})},modifyFn:function(){1==this.$refs.reftable.selections.length?(this.switchStatus("EDIT",!0),this.$nextTick(function(){var e=this.$refs.reftable.selections[0];yufp.extend(this.$refs.reform.formModel,e)})):this.$message({message:"请先选择一条记录",type:"warning"})},infoFn:function(){1==this.$refs.reftable.selections.length?(this.switchStatus("DETAIL",!1),this.$nextTick(function(){yufp.extend(this.$refs.reform.formModel,this.$refs.reftable.selections[0])})):this.$message({message:"请先选择一条记录",type:"warning"})},deleteFn:function(){var a=this,e=a.$refs.reftable.selections;e.length<1?a.$message({message:"请先选择一条记录",type:"warning"}):yufp.service.request({method:"DELETE",url:"/api/coeff/cfg",data:{typeId:e[0].typeId,legalOrgCode:e[0].legalOrgCode},callback:function(e,t,i){0==e?(a.$refs.reftable.remoteData(),a.$message("操作成功")):a.$message("操作失败")}})},exportFn:function(){yufp.util.exportExcelByTable({fileName:"下载文件",importType:"service",ref:this.$refs.reftable,url:"",param:{}})}}})},t.onmessage=function(e,t){},t.destroy=function(e,t){}});