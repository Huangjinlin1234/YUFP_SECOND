var backend={adminService:"/yusp-admin",uaaService:"/e4a",consoleService:"/console",creditService:"/nls",ctrService:"/ctr",clsService:"/cls",cusService:"/cus",loanService:"/loan",pspService:"/psp",flowService:"/flow",xfService:"/xf",edocService:"/edoc",riskmService:"/riskm"},CONSTANT={approveUrl:"pages/flow/ApprovalPage"};
!function(n,e,f){if("function"==typeof define){var i=f(n);define(i),e.yufp.settings=i}else{i=f(n);e.yufp.settings=i}}(yufp,window,function(e){return{config:function(n){e.extend(this,n)}}});
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o,t){if("function"==typeof define){var n=t(e,o);define(n),e.localStorage=n}else{n=t(e,o);e.localStorage=n}}(yufp,window,function(y,p){function i(){}return i.Types={stringType:"00",numberType:"01",booleanType:"02",jsonType:"03"},i.prototype.put=function(e,o){if("string"==y.type(e)){var t,n=y.type(o);if("object"==n){var r=JSON.stringify(o);t=i.Types.jsonType+r}else if("string"==n)t=i.Types.stringType+o;else if("number"==n)t=i.Types.numberType+o;else{if("boolean"!=n)return void console.error("the type of value is not supported");t=i.Types.booleanType+o}p.localStorage.setItem(e,t)}else console.error("the type of key is not string")},i.prototype.get=function(e){if("string"==(void 0===e?"undefined":_typeof(e))){var o=p.localStorage.getItem(e);if(null==o||null==o)return o;var t=o.substring(0,2),n=o.substring(2,o.length);return t==i.Types.jsonType?n=JSON.parse(n):t==i.Types.numberType?n=Number(n):t==i.Types.booleanType&&(n=Boolean(n)),n}console.error("the type of key is not string")},i.prototype.remove=function(e){"string"==(void 0===e?"undefined":_typeof(e))?p.localStorage.removeItem(e):console.error("the type of key is not string")},i.prototype.clear=function(e){p.localStorage.clear()},new i});
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o,s){if("function"==typeof define){var t=s(e,o);define(t),e.sessionStorage=t}else{t=s(e,o);e.sessionStorage=t}}(yufp,window,function(i,p){function l(){}return l.Types={stringType:"00",numberType:"01",booleanType:"02",jsonType:"03"},l.SystemReadyOnly="_$sys_session_readyOnly",l.prototype.isSystemKey=function(e){return!(!e||0!=e.indexOf("_$sys_session_"))},l.prototype.put=function(e,o,s){if("string"==i.type(e))if(this.isSystemKey(e))console.error("the key name is illegal");else{var t=p.sessionStorage.getItem(l.SystemReadyOnly);if(-1==(t=t?JSON.parse(t):[]).indexOf(e)){var n,r=i.type(o);if("object"==r){var y=JSON.stringify(o);n=l.Types.jsonType+y}else if("string"==r)n=l.Types.stringType+o;else if("number"==r)n=l.Types.numberType+o;else{if("boolean"!=r)return void console.error("the type of value is not supported");n=l.Types.booleanType+o}s&&1==s&&(t.push(e),t=JSON.stringify(t),p.sessionStorage.setItem(l.SystemReadyOnly,t)),p.sessionStorage.setItem(e,n)}else console.error("the key is ready only")}else console.error("the type of key is not string")},l.prototype.get=function(e){if("string"==(void 0===e?"undefined":_typeof(e))){var o=p.sessionStorage.getItem(e);if(null==o||null==o)return o;var s=o.substring(0,2),t=o.substring(2,o.length);return s==l.Types.jsonType?t=JSON.parse(t):s==l.Types.numberType?t=Number(t):s==l.Types.booleanType&&(t=Boolean(t)),t}console.error("the type of key is not string")},l.prototype.remove=function(e){if("string"==(void 0===e?"undefined":_typeof(e)))if(this.isSystemKey(e))console.error("the key name is illegal");else{var o=p.sessionStorage.getItem(l.SystemReadyOnly);-1==(o=o?JSON.parse(o):[]).indexOf(e)?p.sessionStorage.removeItem(e):console.error("the key is ready only")}else console.error("the type of key is not string")},l.prototype.clear=function(){var e=p.sessionStorage.getItem(l.SystemReadyOnly);e=e?JSON.parse(e):[];for(var o={},s=0;s<e.length;s++){var t=e[s],n=p.sessionStorage.getItem(t);o[t]=n}if(p.sessionStorage.clear(),e){for(s=0;s<e.length;s++){n=o[t=e[s]];p.sessionStorage.setItem(t,n)}e=JSON.stringify(e),p.sessionStorage.setItem(l.SystemReadyOnly,e)}},new l});
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,r){var o=function(c,e,t){function r(){this.options={method:"POST",async:!0,data:{},headers:{"Content-Type":"application/json; charset=UTF-8"},dataType:"json",timeout:3e5,cache:!1,needToken:!0,callback:!1},this._filters=[],this.basePath="",this.tokenId="Authorization",this.tokenVal=""}return r.prototype.request=function(e){var n=this,s=c.extend({},n.options,e);s.url=n.getUrl(s);var i=new c.core.Deferred,t={data:s.data};if(!1===n._doFilter(0,t))return t.code=t.code?t.code:2,i.reject(t.code,t.message,t.data),s.callback&&s.callback(t.code,t.message,t.data),i;s.data=t.data.data,s.headers=c.extend({},t.data.headers||{},s.headers),s.needToken&&(s.headers[n.tokenId]=n.getToken()),s.type=e.method,s.async=e.async,s.success=function(e,t,r){c.settings.recorderModel&&-1!=c.settings.recorderScope.indexOf("yufp.service")&&c.logger.info("[service receive]  url:"+s.url+" ,response:"+JSON.stringify(e));var o={code:0,message:"success",data:e};if(!1===n._doFilter(1,o)){var a=o.code?o.code:1;return i.reject(a,o.message,o.data),void(s.callback&&s.callback(a,o.message,o.data))}i.resolve(o.code,o.message,o.data),s.callback&&s.callback(o.code,o.message,o.data)},s.error=function(e,t){var r=e.responseText,o={code:1,message:r=r||t,xhr:e};!1!==n._doFilter(2,o)?(o.code=o.code?o.code:1,i.reject(o.code,o.message,o.data),s.callback&&s.callback(o.code,o.message,o.data)):i.reject(o.code,o.message,o.data)},c.core.ajax(s)},r.prototype.getUrl=function(e){if(e.url=e.url?e.url:e.name,!e.url)throw new Error("未设置请求URL");e.url="/"==e.url.charAt(0)?e.url:"/"+e.url;var t=c.settings.ssl?"https://":"http://";return t+=c.settings.url,t+=this.basePath?this.basePath:"",e.url&&-1<e.url.indexOf("http")?t=e.url:t+=e.url,t},r.prototype.getToken=function(){return c.sessionStorage.get("UFP-"+this.tokenId)||""},r.prototype.putToken=function(e){c.sessionStorage.put("UFP-"+this.tokenId,e)},r.prototype.removeToken=function(){c.sessionStorage.remove("UFP-"+this.tokenId)},r.prototype.addFilter=function(e){"object"==(void 0===e?"undefined":_typeof(e))?e.name?e.before&&"function"==typeof e.before?e.after&&"function"==typeof e.after?e.exception&&"function"==typeof e.exception?this._filters.push(e):c.logger.error("filter args must have exception function"):c.logger.error("filter args must have after function"):c.logger.error("filter args must have before function"):c.logger.error("filter args must have name attribute"):c.logger.error("filter args must been json object")},r.prototype.removeFilter=function(e){for(var t="string"==typeof e?e:e.name,r=0;r<this._filters.length&&t!=this._filters[r].name;r++);r<this._filters.length&&this._filters.splice(r,1)},r.prototype._doFilter=function(e,t){var r="exception";r=0==e?"before":r,r=1==e?"after":r;for(var o=0;o<this._filters.length;o++)if(this._filters[o][r]&&!1===this._filters[o][r](t))return!1},new r}(e,0,t.document);"function"==typeof define&&define(o),t.yufp.service=o}(yufp,window);
!function(r,t){var e={number:function(r,t,e){var n=/^\d+$/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("数字类型错误")):e()},age:function(r,t,e){var n=/^\d+$/;t&&n.test(t)?parseInt(t)<200?e():e(new Error("年龄不合法")):t&&!n.test(t)?e(new Error("数字类型错误")):e()},postcode:function(r,t,e){var n=/^[1-9]\d{5}$/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("邮编格式不正确")):e()},ip:function(r,t,e){var n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("ip地址格式不正确")):e()},telephone:function(r,t,e){var n=/(^\d{3}\-\d{7,8}$)|(^\d{4}\-\d{7,8}$)|(^\d{3}\d{7,8}$)|(^\d{4}\d{7,8}$)|(^\d{7,8}$)/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("固定电话或小灵通电话格式不正确")):e()},phone:function(r,t,e){var n=/(^\d{3}\-1[3458][0-9]\d{8}$)|(^\d{2}\-1[3458][0-9]\d{8}$)/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("固定电话格式不正确")):e()},numberAndLetter:function(r,t,e){var n=/(^[A-Za-z0-9]+$)|([A-Za-z]+$)|([0-9]+$)/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("请输入数字和字母")):e()},mobile:function(r,t,e){var n=/^1[3-9][0-9]\d{8}$/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("手机号码不正确")):e()},IDCard:function(r,t,e){if(t){var n,s=new Array;switch(s=t.split(""),null=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(t.substr(0,2))]&&e(new Error("身份证号码地区非法")),t.length){case 15:(parseInt(t.substr(6,2))+1900)%4==0||(parseInt(t.substr(6,2))+1900)%100==0&&(parseInt(t.substr(6,2))+1900)%4==0?ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,ereg.test(t)?e():e(new Error("身份证号码出生日日期有误"));break;case 18:parseInt(t.substr(6,4))%4==0||parseInt(t.substr(6,4))%100==0&&parseInt(t.substr(6,4))%4==0?ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(t)?(n=7*(parseInt(s[0])+parseInt(s[10]))+9*(parseInt(s[1])+parseInt(s[11]))+10*(parseInt(s[2])+parseInt(s[12]))+5*(parseInt(s[3])+parseInt(s[13]))+8*(parseInt(s[4])+parseInt(s[14]))+4*(parseInt(s[5])+parseInt(s[15]))+2*(parseInt(s[6])+parseInt(s[16]))+1*parseInt(s[7])+6*parseInt(s[8])+3*parseInt(s[9]),"F","10X98765432".substr(n%11,1)==s[17]?e():e(new Error("身份证号码末位校验位校验出错,请注意x的大小写"))):e(new Error("身份证号码出生日期有误"));break;default:e(new Error("身份证号码位数不对,应该为15位或是18位"))}}else e()},isChnChar:function(r,t,e){var n=/[\u4E00-\u9FA5]/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("只能输入中文")):e()},trim:function(r,t,e){t!=t.trim()?e(new Error("输入项首尾有空格")):e()},email:function(r,t,e){var n=/[A-Za-z0-9_-]+[@](\S*)(net|com|cn|org|cc|tv|[0-9]{1,3})(\S*)/g;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("电子邮箱格式不正确")):e()},digit:function(r,t,e){var n=/^-?\d+(\.\d+)?$/g;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("请输入小数")):e()},pInt:function(r,t,e){var n=/^\+?[1-9][0-9]*$/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("请输入非零正整数")):e()},gZero:function(r,t,e){var n=/^[\+]?[0-9]*\d(\.\d+)?$/;t&&n.test(t)?e():t&&!n.test(t)?e(new Error("请输入正数")):e()},speChar:function(r,t,e){var n=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]");t&&n.test(t)?e(new Error("输入信息包含特殊字符")):e()}};"function"==typeof define&&define(e),t.yufp.validator=e}(yufp,window);
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,r,n){var o=function(E,j,_){function e(){}e.prototype.dateFormat=function(e,r){if(0===arguments.length)return null;var n;r=r||"{y}-{m}-{d} {h}:{i}:{s}","object"===(void 0===e?"undefined":_typeof(e))?n=e:(10===(""+e).length&&(e=1e3*parseInt(e)),n=new Date(e));var t={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},o=r.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,r){var n=t[r];return"a"===r?["一","二","三","四","五","六","日"][n-1]:(0<e.length&&n<10&&(n="0"+n),n||0)});return o},e.prototype.getExplorer=function(){var e=j.navigator.userAgent;return 0<=e.indexOf("MSIE")?"ie":0<=e.indexOf("Firefox")?"Firefox":0<=e.indexOf("Chrome")?"Chrome":0<=e.indexOf("Opera")?"Opera":0<=e.indexOf("Safari")?"Safari":void 0},e.prototype.exportExcelByTable=function(r){var e=r.ref,n=e.tableColumns,t=(new Array,n.concat([])),o=e.$el.getElementsByClassName("el-table__header-wrapper")[0].getElementsByTagName("tr"),a=1;!function e(r,n){if(r&&r instanceof Array==1)for(var t=0;t<r.length;t++){var o=r[t];o.children&&o.children instanceof Array==1&&(o.colspan=o.children.length-1,a<o.children.length&&(n.map(function(e,r){o.label!=e.label&&(e.rowspan=(null==e.rowspan?0:e.rowspan)+1)}),a+=1),e(o.children,o.children))}}(t,t);var l=function(e,r,n,t){var o={s:{c:0,r:0},e:{c:0,r:0}};return 0!=e.colspan||t?0==e.colspan&&t?(o.s.c=t,o.e.c=t):0==e.colspan||t?0!=e.colspan&&t&&(o.s.c=t,o.e.c=parseInt(t+e.colspan)):(o.s.c=r,o.e.c=parseInt(r+e.colspan)):(o.s.c=r,o.e.c=r),e.rowspan,o.s.r=n,o.e.r=parseInt(n+e.rowspan),o},p=[],s=[],c=[],f="ABCDEFGHIJKLMNOPQRSTUVWXYZ",d=0,u=1,h=0;!function e(r,n,t){if(r&&r instanceof Array==1)for(var o=0;o<r.length;o++){var a=r[o];if(p.push(a.label),a.rowspan=null==a.rowspan?0:a.rowspan,a.colspan=null==a.colspan?0:a.colspan,a.children&&a.children instanceof Array==1){c.push(f.charAt(parseInt(o+d))+"1");var i=l(a,o,d);s.push(i),u+=1,d+=1,h=0,e(a.children,a.children,o),d-=1,h=parseInt(a.children.length-1)}else{var i=l(a,o+h,d,t+o);s.push(i),t?c.push(f.charAt(t+o)+u):c.push(f.charAt(parseInt(o+u-1))+"1")}}}(t);for(var i=function e(r,n){for(var t,o=0;o<n.length;o++)if(n[o].children&&n[o].children instanceof Array==1)t=e(r,n[o].children);else if(r==n[o].label&&n[o].prop){t=n[o].prop;break}return t},v=[],y=0;y<p.length;y++){var g=i(p[y],t);g&&(v[v.length]=g)}var b=function(e,r){for(var n,t=0;t<r.length;t++)if(r[t].children&&r[t].children instanceof Array==1)g=i(e,r[t].children);else if(e==r[t].prop&&r[t].prop){n=r[t].dataCode;break}return n},m=[],w=[];"page"==r.importType?w=e.data:"selected"==r.importType?w=e.selections:"service"==r.importType&&E.service.request({url:r.url,async:!1,data:r.param,method:r.method?r.method:"GET",callback:function(e,r,n){w=n.rows}});for(var y=0;y<w.length;y++){for(var S={},k=w[y],T=0;T<v.length;T++){var A=v[T],O=b(A,t);if(O){var x=E.lookup.convertKey(O,k[A]);S[""+A]=x}else S[""+A]=k[A]}m.push(S)}for(var y=1;y<o.length;y++)m.unshift({});var I,C={SheetNames:["Sheet1"],Sheets:{},Props:{}};m=XLSX.utils.json_to_sheet(m);for(var y=0;y<c.length;y++)m[c[y]]={t:"s",v:p[y]};if(m["!merges"]=s,C.Sheets.Sheet1=m,"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)){var B={bookType:"xlsx",bookSST:!0,type:"base64"};I=XLSX.write(C,B),r.param.downloadifyCallBack&&r.param.downloadifyCallBack(function(e){Downloadify.create(e,{swf:"./libs/downloadify/downloadify.swf",downloadImage:"./libs/downloadify/download.png",width:100,height:30,filename:r.fileName+"."+("biff2"==B.bookType?"xls":B.bookType),data:function(){return I},transparent:!1,append:!1,dataType:"base64",onComplete:function(){},onCancel:function(){},onError:function(){}})})}else{var B={bookType:"xlsx",bookSST:!0,type:"binary"};!function(e,r){if("msSaveOrOpenBlob"in j.navigator)j.navigator.msSaveOrOpenBlob(e,r||"下载");else{var n=_.createElement("a");n.download=r||"下载",n.href=URL.createObjectURL(e),n.click(),setTimeout(function(){URL.revokeObjectURL(e)},100)}}(new Blob([function(e){{if("undefined"!=typeof ArrayBuffer){for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),t=0;t!=e.length;++t)n[t]=255&e.charCodeAt(t);return r}for(var r=new Array(e.length),t=0;t!=e.length;++t)r[t]=255&e.charCodeAt(t);return r}}(XLSX.write(C,B))],{type:"application/octet-stream"}),r.fileName+"."+("biff2"==B.bookType?"xls":B.bookType))}},e.prototype.exportCsvByTable=function(r){var e=r.ref,n=e.tableColumns,t=(new Array,n.concat([])),o=e.$el.getElementsByClassName("el-table__header-wrapper")[0].getElementsByTagName("tr"),a=1;!function e(r,n){if(r&&r instanceof Array==1)for(var t=0;t<r.length;t++){var o=r[t];o.children&&o.children instanceof Array==1&&(o.colspan=o.children.length-1,a<o.children.length&&(n.map(function(e,r){o.label!=e.label&&(e.rowspan=(null==e.rowspan?0:e.rowspan)+1)}),a+=1),e(o.children,o.children))}}(t,t);var l=function(e,r,n,t){var o={s:{c:0,r:0},e:{c:0,r:0}};return 0!=e.colspan||t?0==e.colspan&&t?(o.s.c=t,o.e.c=t):0==e.colspan||t?0!=e.colspan&&t&&(o.s.c=t,o.e.c=parseInt(t+e.colspan)):(o.s.c=r,o.e.c=parseInt(r+e.colspan)):(o.s.c=r,o.e.c=r),e.rowspan,o.s.r=n,o.e.r=parseInt(n+e.rowspan),o},p=[],s=[],c=[],f="ABCDEFGHIJKLMNOPQRSTUVWXYZ",d=0,u=1,h=0;!function e(r,n,t){if(r&&r instanceof Array==1)for(var o=0;o<r.length;o++){var a=r[o];if(p.push(a.label),a.rowspan=null==a.rowspan?0:a.rowspan,a.colspan=null==a.colspan?0:a.colspan,a.children&&a.children instanceof Array==1){c.push(f.charAt(parseInt(o+d))+"1");var i=l(a,o,d);s.push(i),u+=1,d+=1,h=0,e(a.children,a.children,o),d-=1,h=parseInt(a.children.length-1)}else{var i=l(a,o+h,d,t+o);s.push(i),t?c.push(f.charAt(t+o)+u):c.push(f.charAt(parseInt(o+u-1))+"1")}}}(t);for(var i=function e(r,n){for(var t,o=0;o<n.length;o++)if(n[o].children&&n[o].children instanceof Array==1)t=e(r,n[o].children);else if(r==n[o].label&&n[o].prop){t=n[o].prop;break}return t},v=[],y=0;y<p.length;y++){var g=i(p[y],t);g&&(v[v.length]=g)}var b=function(e,r){for(var n,t=0;t<r.length;t++)if(r[t].children&&r[t].children instanceof Array==1)g=i(e,r[t].children);else if(e==r[t].prop&&r[t].prop){n=r[t].dataCode;break}return n},m=[],w=[];"page"==r.importType?w=e.data:"selected"==r.importType?w=e.selections:"service"==r.importType&&E.service.request({url:r.url,async:!1,data:r.param,method:r.method?r.method:"GET",callback:function(e,r,n){w=n.rows}});for(var y=0;y<w.length;y++){for(var S={},k=w[y],T=0;T<v.length;T++){var A=v[T],O=b(A,t);if(O){var x=E.lookup.convertKey(O,k[A]);S[""+A]=x}else S[""+A]=k[A]}m.push(S)}for(var y=1;y<o.length;y++)m.unshift({});var I,C={SheetNames:["Sheet1"],Sheets:{},Props:{}};m=XLSX.utils.json_to_sheet(m);for(var y=0;y<c.length;y++)m[c[y]]={t:"s",v:p[y]};if(m["!merges"]=s,C.Sheets.Sheet1=m,"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)){var B={bookType:"csv",bookSST:!0,type:"base64"};I=XLSX.write(C,B),r.param.downloadifyCallBack&&r.param.downloadifyCallBack(function(e){Downloadify.create(e,{swf:"./libs/downloadify/downloadify.swf",downloadImage:"./libs/downloadify/download.png",width:100,height:30,filename:r.fileName+"."+("biff2"==B.bookType?"xls":B.bookType),data:function(){return I},transparent:!1,append:!1,dataType:"base64",onComplete:function(){},onCancel:function(){},onError:function(){}})})}else{var B={bookType:"csv",bookSST:!0,type:"binary"};!function(e,r){if("msSaveOrOpenBlob"in j.navigator)j.navigator.msSaveOrOpenBlob(e,r||"下载");else{var n=_.createElement("a");n.download=r||"下载",n.href=URL.createObjectURL(e),n.click(),setTimeout(function(){URL.revokeObjectURL(e)},100)}}(new Blob([function(e){{if("undefined"!=typeof ArrayBuffer){for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),t=0;t!=e.length;++t)n[t]=255&e.charCodeAt(t);return r}for(var r=new Array(e.length),t=0;t!=e.length;++t)r[t]=255&e.charCodeAt(t);return r}}(XLSX.write(C,B))],{type:"application/octet-stream"}),r.fileName+"."+("biff2"==B.bookType?"xls":B.bookType))}},e.prototype.array2tree=function(e,r){var n={id:"id",pid:"parentId",root:"0"};E.extend(n,r||{});var t,o=n.id,a=n.pid,i=[];if("object"===_typeof(n.root))t=n.root;else{var l={};l[o]=n.root,t=l}for(var p=""+t[o],s=0,c=e.length;s<c;s++){var f=e[s];p===""+f[o]?t=f:p===""+f[a]&&i.push(f)}t.id=t[o],i=t.children?t.children.concat(i):i,t.children=i;for(var s=0,c=t.children.length;s<c;s++)n.root=t.children[s],t.children[s]=this.array2tree(e,n);return t},e.prototype.genTree=function(e,r){var n={};if(null==e||0==e.length)return[];if(null==r.root||null==r.root||""==r.root){n.id=function(e,r){var n={};n=e[0];for(var t=1;t<e.length;t++){for(var o=1;o<e.length;o++)if(e[o][r.id]==n[r.pid]){n=e[o];break}if(o==e.length-1)break}return n}(e,r)[r.pid]}else if("object"==_typeof(r.root)){var n=r.root;n.id=void 0===n[r.id]?n.id:n[r.id],n.pid=void 0===n[r.pid]?n.pid:n[r.pid],n.label=void 0===n[r.label]?n.label:n[r.label]}else{for(var t in e)if(e[t][r.id]==r.root){n.id=e[t][r.pid];break}n.id=null==n.id?r.root:n.id}var o=function(e,r){for(var n={},t={},o=0;o<e.length;o++){var a=e[o];a.id=a[r.id],a.pid=a[r.pid],a.label=a[r.label],a.children=[],n[a.id]=a,t[a.pid]?t[a.pid].push(a):t[a.pid]=[a];var i=t[a.id];i&&(a.children=i.concat());var l=n[a.pid];l&&l.children.push(a)}return t};return n.label?(n.children=o(e,r)[n.id],[n]):o(e,r)[n.id]},e.prototype.clone=function(e){var r={};if("object"==(void 0===e?"undefined":_typeof(e))){var o=this;r=function(e){var r={};for(var n in e){var t=e[n];"object"==(void 0===t?"undefined":_typeof(t))?r[n]=o.objClone(t):r[n]=e[n]}return r}(e)}else alert("clone方法目前只支持对象!");return r},e.prototype.copyObj=function(e,r){if("object"==(void 0===e?"undefined":_typeof(e))&&"object"==(void 0===r?"undefined":_typeof(r)))for(var n in e)r[n]&&(e[n]=r[n]);else alert("copyObj方法目前只支持对象!")},e.prototype.addTokenInfo=function(e){var r="access_token=",n="";return null==e||""==e||-1<!e.indexOf(r)&&(n=e+(-1<e.indexOf("?")?"&":"?")+r+E.service.getToken()),n},e.prototype.download=function(e){e?e.indexOf("http")<=-1&&(e=E.service.getUrl({url:e})):this.$message("必须设置请求url!","警告"),e=this.addTokenInfo(e);var r=_.createElement("a");r.href=e,r.click()},e.prototype.moneyFormatter=function(e,r){if(void 0===e||null==e||""===e)return"";if(isNaN(e))return e;r=0<r&&r<=20?r:2;var n=(e=parseFloat((e+"").replace(/[^\d\.-]/g,"")).toFixed(r)+"").split(".")[0].split("").reverse(),o=e.split(".")[1];for(t="",i=0;i<n.length;i++)t+=n[i]+((i+1)%3==0&&i+1!=n.length?",":"");return t.split("").reverse().join("")+"."+o},e.prototype.toPercent=function(e,r){return e=null!=e&&""!=e?parseFloat(e+"")+"%":""},e.prototype.decimalToPercent=function(e,r){return-1!=String(e).indexOf("%")&&(e=parseFloat(String(e).replace("%",""))/100),e=null!=e&&""!=e?parseFloat(100*e+"")+"%":""},e.prototype.moneyToUpper=function(e){var r,n,t,o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],a=["","拾","佰","仟"],i=["","万","亿","兆"],l=["角","分","毫","厘"],p="";if(""==e)return"";if(1e15<=(e=parseFloat(e)))return"";if(0==e)return p=o[0]+"元整";if(-1==(e=e.toString()).indexOf(".")?(r=e,n=""):(t=e.split("."),r=t[0],n=t[1].substr(0,4)),0<parseInt(r,10)){for(var s=0,c=r.length,f=0;f<c;f++){var d=r.substr(f,1),u=c-f-1,h=u/4,v=u%4;"0"==d?s++:(0<s&&(p+=o[0]),s=0,p+=o[parseInt(d)]+a[v]),0==v&&s<4&&(p+=i[h])}p+="元"}if(""!=n)for(var y=n.length,f=0;f<y;f++){var d=n.substr(f,1);"0"!=d&&(p+=o[Number(d)]+l[f])}return""==p?p+=o[0]+"元整":""==n&&(p+="整"),p},e.prototype.upperToMoney=function(e){var r,n,t=[0,1,2,3,4,5,6,7,8,9],o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],a=[10,100,1e3],i=["拾","佰","仟"],l=[],p=[],s=[],c=e.split("元");r=c[0],n=c[1].split(""),-1!==r.indexOf("亿")?(l=r.split("亿")[0].split(""),-1!==r.indexOf("万")?(p=r.split("亿")[1].split("万")[0].split(""),s=r.split("亿")[1].split("万")[1].split("")):s=r.split("亿")[1].split("")):-1!==r.indexOf("万")?(p=r.split("万")[0].split(""),s=r.split("万")[1].split("")):s=r.split("");var f=function(e,r,n,t,o){for(var a=e.length,i=0,l=0,p=0;p<a;p++){var s=r.indexOf(e[p]),c=n.indexOf(e[p]);-1!==s&&(i+=t[s],p==a-1&&(l+=i)),-1!==c&&(i*=o[c],l+=i,i=0)}return l},d=f(l,o,i,t,a),u=f(p,o,i,t,a),h=f(s,o,i,t,a),v=f(n,o,["角","分"],t,[.1,.01]);return 1e8*d+1e4*u+h+v},e.prototype.logInfo=function(e,r){E.service.request({url:r,method:"post",data:e,callback:function(e,r,n){0===e&&n||E.logger.warn("日志上传失败")}})};var r=new e;return Date.prototype.toJSON=function(){return r.dateFormat(this,"{y}-{m}-{d}")},r}(e,r,r.document);"function"==typeof define&&define(o),r.yufp.util=o}(yufp,window);
!function(t,e,o){var r=function(c,t,e){function o(){var t={lookupMgr:{},remoteUrl:backend.consoleService+"/api/s/dic",remoteParamName:"opttype",codeKey:"enname",codeValue:"cnname",limit:!1,limitLength:100,prefix:"YUFP-LIMIT-TYPE-",localPath:["./custom/common/app.data.lookup.js"]};c.extend(this,t),this.loadLocal()}return o.prototype.loadLocal=function(r){var n=this,i=n.localPath;c.require.require(i,function(){for(var t=0,e=i.length;t<e;t++){var o=c.require.use(i[t]);c.extend(n.lookupMgr,o.localLookup)}"function"===c.type(r)&&r.call(n)})},o.prototype.loadRemote=function(i,t){var u=this;u.forceLoad(i,function(t){for(var e=i.split(","),o=0,r=e.length;o<r;o++){var n=e[o];u.limit?t[n].length<u.limitLength?u.lookupMgr[n]=t[n]:u.storagePut(u.prefix+n,t[n]):u.lookupMgr[n]=t[n]||[]}})},o.prototype.forceLoad=function(t,r){var e={};e[this.remoteParamName]=t,c.service.request({url:this.remoteUrl,method:"get",data:e,callback:function(t,e,o){0==t&&o&&0==o.code&&"function"==c.type(r)&&r.call(this,o.rows)}})},o.prototype.queueHas=function(t){return!!this.loadingQueue[t]},o.prototype.queuePush=function(t){this.loadingQueue[t]=!0},o.prototype.queuePop=function(t){return delete this.loadingQueue[t],t},o.prototype.storagePut=function(t,e){c.sessionStorage.put(this.prefix+t,JSON.stringify(e))},o.prototype.storageGet=function(t){var e=c.sessionStorage.get(this.prefix+t);return e=e?JSON.parse(e):void 0},o.prototype.convert=function(t,e,o,r){var n=e,i=this.lookupMgr[t]||this.storageGet[t];if(!i)return c.logger.warn("【"+t+"】字典未加载！"),n;for(var u=0,a=i.length;u<a;u++){var l=i[u];if(""+l[o]==""+e){n=l[r];break}}return n},o.prototype.reg=function(t,e){for(var o=this,r=t.split(","),n=[],i=0,u=r.length;i<u;i++){var a=r[i];o.lookupMgr[a]||o.storageGet[a]||n.push(a)}0<n.length&&o.loadRemote.call(this,n.join(","),e)},o.prototype.bind=function(e,r){var n=this;"function"!=c.type(r)&&c.logger.warn("【"+e+"】字典bind方法参数错误");var o=this.lookupMgr[e]||n.storageGet[e],i=function(t){if("key"!=n.codeKey&&"value"!=n.codeValue){for(var e=[],o=0;o<t.length;o++)e.push({key:t[o][n.codeKey],value:t[o][n.codeValue]});r.call(this,e)}else r.call(this,t)};o?i(o):n.forceLoad(e,function(t){n.lookupMgr[e]=o=t[e],i(o)})},o.prototype.find=function(t,e){e=!1!==e;var o=this.lookupMgr[t]||this.storageGet[t];return e||(o=o?this.array2Map(o):{}),o},o.prototype.array2Map=function(t){var o=this;return t=t?t.reduce(function(t,e){return t[e[o.codeKey]]=e[o.codeValue],t},{}):{}},o.prototype.convertKey=function(t,e){return this.convert(t,e,this.codeKey,this.codeValue)},o.prototype.convertValue=function(t,e){return this.convert(t,e,this.codeValue,this.codeKey)},o.prototype.convertMultiKey=function(t,e,o){if(!this.lookupMgr[t]&&!this.storageGet[t])return c.logger.warn("【"+t+"】字典未加载！"),targetVal;o=o||",";for(var r=e.split(o),n=[],i=0,u=r.length;i<u;i++)n.push(this.convertKey(t,r[i]));return n.join(o)},o.prototype.convertMultiValue=function(t,e,o){if(!this.lookupMgr[t]&&!this.storageGet[t])return c.logger.warn("【"+t+"】字典未加载！"),targetVal;o=o||",";for(var r=e.split(o),n=[],i=0,u=r.length;i<u;i++)n.push(this.convertValue(t,r[i]));return n.join(o)},new o}(t,0,e.document);"function"==typeof define&&define(r),e.yufp.lookup=r}(yufp,window);
!function(e,t,r){var n=function(S,e,t){function r(){var e={settings:{logoutUrl:backend.uaaService+"/api/logout",userUrl:backend.uaaService+"/api/session/info",userJsonRoot:"rows",userStoreKey:"YUFP-SESSION-USER",userMapping:{userId:"userId",userName:"userName",userCode:"userId",userAvatar:"userAvatar",logicSys:"logicSys",roles:"userRoles",dutys:"userDutys",org:"orgInfo",dpt:"dpt",instu:"instu",upOrg:"upOrg",upDpt:"upDpt",OPENDAY:"openday",legalOrg:"legalOrg"},menuUrl:backend.uaaService+"/api/account/menuandcontr",menuRootPid:"0",menuJsonRoot:"menus",menuStoreOgKey:"YUFP-SESSION-MENUS-OG",menuStoreKey:"YUFP-SESSION-MENUS",menuMapping:{mId:"menuId",mText:"menuName",mPid:"upMenuId",mIcon:"menuIcon",routeId:"funcId",routeUrl:"funcUrl"},ctrlUrl:backend.uaaService+"/api/session/menuandcontr",ctrlJsonRoot:"ctrls",ctrlStoreOgKey:"YUFP-SESSION-STRLS-OG",ctrlStoreKey:"YUFP-SESSION-STRLS",ctrlMapping:{mId:"menuId",rId:"funcId",cId:"ctrlCode",cText:"ctrlName"}}};S.extend(this,e)}var m=function(e,t){S.sessionStorage.put(e,JSON.stringify(t))},u=function(e){var t=S.sessionStorage.get(e);return t=t?JSON.parse(t):void 0},n=function(e){S.sessionStorage.remove(e)},i=function(e,t){if(!t)return e;for(var r=t.split("."),n=0,s=r.length;n<s&&e;n++)e=e[r[n]];return e};return r.prototype.loadUserSession=function(n){var s=function(e){var t=this,r=t.settings.userMapping;for(var n in r)t[n]=e[r[n]]||"";t.user=e,m(t.settings.userStoreKey,t.user)},o=this,e=u(o.settings.userStoreKey),t=u(o.settings.menuStoreOgKey),r=u(o.settings.ctrlStoreOgKey);if(e&&t)return s.call(o,e),o.processMenus(t),o.processCtrls(r),void("function"==typeof n&&n.call(o));S.service.request({url:o.settings.userUrl,method:"POST",async:!1,callback:function(e,t,r){r=i(r,o.settings.userJsonRoot),"0"==e&&r&&s.call(o,r),o.loadMenus(n)}})},r.prototype.logout=function(e){var t=this.settings;e&&S.service.request({url:t.logoutUrl,method:"POST",callback:function(e,t,r){}}),S.service.removeToken(),S.router.to("login"),n(t.userStoreKey),n(t.menuStoreOgKey),n(t.menuStoreKey),n(t.ctrlStoreOgKey),n(t.ctrlStoreKey)},r.prototype.getCurrentRoute=function(){return S.service.getToken()?"frame":""},r.prototype.loadMenus=function(o){var u=this;S.service.request({url:u.settings.menuUrl,method:"POST",callback:function(e,t,r){var n=i(r.rows,u.settings.menuJsonRoot);if("0"==e&&n){u.processMenus(n);var s=i(r.rows,u.settings.ctrlJsonRoot);s&&u.processCtrls(s),"function"==typeof o&&o.call(u)}}})},r.prototype.processMenus=function(e){var t=this,r=t.settings.menuMapping;t.orginalMenus=JSON.parse(JSON.stringify(e));for(var n=[],s=[],o=0,u=e.length;o<u;o++){var i=e[o];for(var l in r)r[l]!=l&&(i[l]=i[r[l]]||"",delete i[r[l]]);""+i.mPid==""&&(i.mPid=t.settings.menuRootPid),i.routeId&&i.routeUrl?n.push(i):s.push(i)}var c={};for(o=0,u=n.length;o<u;o++){var a=!1;c[(i=n[o]).routeId]={html:i.routeUrl+".html",js:i.routeUrl+".js"};for(var g=0,d=s.length;g<d;g++){var p=s[g];if(""+i.mPid==""+p.mId){p.children=p.children?p.children:[],p.children.push(i),a=!0;break}}a||s.unshift(i)}S.router.addRouteTable(c);var f=S.util.array2tree(s,{id:"mId",pid:"mPid",root:t.settings.menuRootPid});f.children&&0<f.children.length&&(f.children[0].isIndex=!0),t.menus=f.children,m(t.settings.menuStoreOgKey,t.orginalMenus),m(t.settings.menuStoreKey,t.menus)},r.prototype.getMenuTree=function(){return this.menus||u(this.settings.menuStoreKey)},r.prototype.getMenus=function(){return this.orginalMenus||u(this.settings.menuStoreOgKey)},r.prototype.getMenuById=function(e){for(var t=this.settings,r=0,n=this.orginalMenus.length;r<n;r++){var s=this.orginalMenus[r];if(s[t.menuMapping.mId]==e)return s}},r.prototype.loadCtrls=function(n){var s=this;S.service.request({url:s.settings.ctrlUrl,method:"get",callback:function(e,t,r){r=i(r,s.settings.ctrlJsonRoot),"0"==e&&r&&s.processCtrls(r),"function"==typeof n&&n.call(s)}})},r.prototype.processCtrls=function(e){if(e&&!(e.length<1)){var t=this,r=t.settings.ctrlMapping;t.orginalCtrls=JSON.parse(JSON.stringify(e));for(var n={},s="",o={},u=0,i=e.length;u<i;u++){var l=e[u];for(var c in r)r[c]!=c&&(l[c]=l[r[c]]||"",delete l[r[c]]);s==l.mId?o[l.cId]=1:(""!==s&&(n[s]=o),s=l.mId,(o={})[l.cId]=1)}""!==s&&(n[s]=o),t.ctrls=n,m(t.settings.ctrlStoreOgKey,t.orginalCtrls),m(t.settings.ctrlStoreKey,t.ctrls)}},r.prototype.checkCtrl=function(e,t,r){var n=this.ctrls;return(t=t||"")||(t=r?"":S.frame.tab().url),!(!(e&&n&&t)||n&&t&&n[t]&&n[t][e])},new r}(e,0,t.document);"function"==typeof define&&define(n),t.yufp.session=n}(yufp,window);
!function(e,t,a){var n=function(m,h,p){function e(){m.extend(this,{maxOpenTabs:10,isMenuRefresh:!1,tabRefresh:!0,tabDoubleClickRefresh:!0,tabsTargetId:"yu-idxTabs",tabBoxTargetId:"yu-idxTabBox",tabDropdownMenuBtId:"yu-idxTabDMenuBt",tabDropdownMenuWidth:140,tabButtonOutWidth:34,model:0,models:["frame","frameRight","frameTop"],heightDifference:[35,35,123],idxMenuSwiper:null,sysTools:{ownerId:"yu-sysTools",tools:[{show:!0,text:"收缩/展开",icon:"el-icon-yx-menu",className:"sidebar-toggler",id:"yu-sidebar"},{show:!0,text:"切换模式",icon:"el-icon-yx-switch-1",className:"",id:"yu-switch"},{show:!1,text:"设置主题",icon:"el-icon-yx-themes-1",className:"",id:"yu-themes"},{show:!1,text:"常用功能",icon:"el-icon-yx-star-empty",className:"",id:"yu-common"},{show:!0,text:"修改密码",icon:"el-icon-yx-key2",className:"",id:"yu-modifyPassword"},{show:!1,text:"选择语言",icon:"el-icon-yx-sphere",className:"",id:"yu-language"}]},modifyPassword:{modifyPassword:{html:"pages/common/frame/modifyPassword.html",js:"pages/common/frame/modifyPassword.js"}},TEMP_loginUser:{name:"YUFP",role:[{id:"Administrator",code:"Administrator",name:"Administrator"}],picUrl:"themes/default/images/user_default_pic.png"},themes:[{id:"default",name:"默认"},{id:"orange",name:"橙色"},{id:"simple",name:"简约"}],language:[{id:"zh",name:"中文"},{id:"en",name:"English"}]})}e.prototype.init=function(){n(),a(),t(),$(h).resize(function(){t()})};var t=function(){var e=m.frame;$("#"+e.tabBoxTargetId)&&($("#"+e.tabBoxTargetId).height(e.size().height),$("#"+e.tabBoxTargetId+">div").height(e.size().height),y())},y=function(){var n=m.frame,i=function(){return $("#"+n.tabsTargetId+">div").width()},s=function(){return $("#"+n.tabsTargetId).width()-n.tabDropdownMenuWidth-10},e=function(e){return"hidden"==e?$("#"+n.tabsTargetId+">div>a:hidden"):$("#"+n.tabsTargetId+">div>a:gt(0):not(.ck)").not("a:hidden")};i()>s()?e().each(function(e,t){if($(t).hide(),i()<s())return!1}):e("hidden").each(function(e,t){var a;i()+((a=t)?$(a).width()+n.tabButtonOutWidth:0)<s()&&$(t).show()})},r=function(){var e=m.frame;return p.getElementById("frameTop")?e.model=2:p.getElementById("frameRight")?e.model=1:e.model=0,e.model},a=function(){var s=m.frame;if(s.sysTools.ownerId){var a="";$(s.sysTools.tools).each(function(e,t){t.show&&(a+='<span id="'+t.id+'" class="'+t.className+" "+t.icon+'" title="'+t.text+'"></span>')}),$("#"+s.sysTools.ownerId).append(a),$("#yu-sidebar").bind("click",function(){setTimeout(function(){s.idxMenuSwiper.resizeFix()},50)}),$("#yu-switch").bind("click",function(){m.router.to(s.models[s.model+1>=s.models.length?0:s.model+1])}),$("#yu-language").bind("click",function(e){var t=this,a=function(e){for(var t=e.offsetLeft,a=e.offsetTop+e.clientHeight+5;e=e.offsetParent,t+=e.offsetLeft,"BODY"!=e.tagName;);return{x:t-25+"px",y:a+"px"}};event||h.event;if(0<$("#yu-languageList").size())$("#yu-languageList").css({left:a(t).x,top:a(t).y}).fadeToggle();else{for(var n='<div id="yu-languageList" class="yu-languageList"><i></i>',i=0;i<s.language.length;i++)n+='<span language="'+s.language[i].id+'" title="'+s.language[i].name+'">'+s.language[i].name+"</span>";n+="</div>",$("body").append(n).find("#yu-languageList").css({left:a(t).x,top:a(t).y}).fadeIn().bind("mouseleave",function(){$(this).hide()}).find("span").bind("click",function(){var e=$(this).attr("language");$("#yu-languageList").hide(),alert(e)})}}),$("#yu-themes").bind("click",function(e){var t=function(e){for(var t=e.offsetLeft,a=e.offsetTop+e.clientHeight+5;e=e.offsetParent,t+=e.offsetLeft,"BODY"!=e.tagName;);return{x:t-25+"px",y:a+"px"}};event||h.event;if(0<$("#yu-themesList").size())$("#yu-themesList").css({left:t(this).x,top:t(this).y}).fadeToggle();else{for(var a='<div id="yu-themesList" class="yu-themesList"><i></i>',n=0;n<s.themes.length;n++)a+='<span class="'+s.themes[n].id+'" themes="'+s.themes[n].id+'" title="'+s.themes[n].name+'"><i></i>'+s.themes[n].name+"</span>";a+="</div>",$("body").append(a).find("#yu-themesList").css({left:t(this).x,top:t(this).y}).fadeIn().bind("mouseleave",function(){$(this).hide()}).find("span").bind("click",function(){$("link[rel=stylesheet]").each(function(e,t){for(var e=0;e<s.themes.length;e++)0<t.href.indexOf("themes/"+s.themes[e].id)&&(t.href=t.href.replace("themes/"+s.themes[e].id,"themes/default"))}),$("#yu-themesList").hide()})}}),$("#yu-common").bind("click",function(){}),$("#yu-modifyPassword").bind("click",function(){m.router.addRouteTable(s.modifyPassword);s.addTab({id:"modifyPassword",title:"修改密码",key:"custom_20180108174856"})})}$("#yu-exit").click(function(){var e={userId:m.session.userId,operType:"1",operPageUrl:h.location.href,operPageName:"登出页面",userIpAddr:"",logLevel:"1",operInfo:"操作成功"};m.service.request({url:backend.uaaService+"/api/login/oper/log/insert",method:"POST",data:e,callback:function(e,t,a){a&&"0"==a.code&&(console.log("写入日志成功"),s.exit())}})})},n=function(){for(var e=m.session.userName||m.frame.TEMP_loginUser.name,t=m.session.roles||m.frame.TEMP_loginUser.role,a=[],n=0,i=t.length;n<i;n++)a.push(t[n].roleName);var s=m.session.userAvatar||m.frame.TEMP_loginUser.picUrl;p.getElementById("userName").innerHTML+=e;var o=8;2==r()&&(o=28);var d=a.join(",");d&&d.length>o?(p.getElementById("userRole").innerHTML+="("+d.substring(0,o)+"......)",p.getElementById("userRole").title=d):p.getElementById("userRole").innerHTML+="("+d+")",p.getElementById("userPic").src=s,p.getElementById("userPic").title=e+"/"+a};return e.prototype.size=function(){return r(),{width:h.top.document.body.clientWidth-$(".page-sidebar").width(),height:h.top.document.body.clientHeight-this.heightDifference[this.model]}},e.prototype.addTab=function(e){var t,a,n,i,s,o,d,r,u=this;if(e&&null!=e.id){t=e.id,a=e.title?e.title:"Tab Title",n=e.key?e.key:"other_"+u.getTimestamp(),i=e.data?e.data:"";var l="tabBox_"+n;if(0<$("#"+l).size())u.focusTab(n);else{$("#"+u.tabsTargetId+">div>a").length>=u.maxOpenTabs&&0!=u.maxOpenTabs&&u.removeTab($("#"+u.tabsTargetId+">div>a:eq(1)").attr("data-key"));var c='<a class="ck" href="javascript:void(0);" title="'+a+'" data-url="'+t+'"  data-key="'+n+'">'+a+(0==n?"":'<i title="关闭"></i>')+"</a>";$("#"+u.tabsTargetId+">div").find("a[class=ck]").removeClass("ck").end().append(c).find('a[data-key="'+n+'"]').bind("click",function(){u.focusTab($(this).attr("data-key"))}).bind("dblclick",function(){u.tabDoubleClickRefresh&&u.refreshTab($(this).attr("data-key"))}).bind("contextmenu",function(){!function(e){var t=m.frame,a=event||h.event;p.all?a.returnValue=!1:a.preventDefault();var n,i,s,o,d,r=function(){0==e?$(".yu-tabContextmenu a:eq(1)").hide():$(".yu-tabContextmenu a:eq(1)").show(),$(".yu-tabContextmenu").attr("data-key",e).css({left:a.clientX+"px",top:a.clientY+"px"}).fadeIn("fast")},u=function(){$(".yu-tabContextmenu").fadeOut("fast")};0<$(".yu-tabContextmenu").size()?r():((n=p.createElement("div")).className="yu-tabContextmenu",s=p.createElement("a"),o=p.createElement("a"),d=p.createElement("a"),s.innerHTML="关闭当前",o.innerHTML="关闭其它",d.innerHTML="关闭全部",s.href="javascript:void(0)",o.href="javascript:void(0)",d.href="javascript:void(0)",t.tabRefresh&&((i=p.createElement("a")).innerHTML="刷新当前",i.href="javascript:void(0)",n.appendChild(i),$(i).bind("click",function(){$("#"+t.tabsTargetId+' a[data-key="'+$(n).attr("data-key")+'"]').attr("data-url"),t.focusTab($(n).attr("data-key")),t.refreshTab($(n).attr("data-key"))})),n.appendChild(s),n.appendChild(o),n.appendChild(d),p.body.appendChild(n),$(n).bind("mouseleave",function(){u()}),$(p).bind("click",function(){u()}),r(),$(s).bind("click",function(){t.removeTab($(n).attr("data-key"))}),$(o).bind("click",function(){t.removeOtherTab($(n).attr("data-key"))}),$(d).bind("click",function(){t.removeAllTab()}))}($(this).attr("data-key"))}).data("data",i).find("i").bind("click",function(){u.removeTab($(this).parent().attr("data-key"))});var f='<div class="ck" data-key="'+n+'" id="'+l+'" style="height:'+u.size().height+'px;overflow:auto;overflow-x: hidden;"></div>';$("#"+u.tabBoxTargetId).find("div[class=ck]").removeClass("ck").end().append(f),u.focusMenu(n),s=n,o=a,d=m.frame,r=function(){2<$("#"+d.tabDropdownMenuBtId+">div>span").size()?$("#"+d.tabDropdownMenuBtId).show():$("#"+d.tabDropdownMenuBtId).hide()},$("#"+d.tabDropdownMenuBtId).size()<1&&function(){var e=p.createElement("a");e.id=d.tabDropdownMenuBtId,e.href="javascript:void(0)";var t=p.createElement("div"),a=p.createElement("span");a.innerHTML="关闭全部",a.title="关闭全部",t.appendChild(a),e.appendChild(t),$("#"+d.tabsTargetId).append(e),a.addEventListener("click",function(){d.removeAllTab(),$("#"+d.tabDropdownMenuBtId+" span:gt(1)").remove(),r()})}(),$("#"+d.tabDropdownMenuBtId+' span[data-key="'+s+'"').size()<1&&function(e,t){var a=p.createElement("span");if(a.innerHTML=o,a.title=o,a.setAttribute("data-key",s),0!=e){var n=p.createElement("i");n.title="关闭",a.appendChild(n),n.addEventListener("click",function(){$(a).remove(),d.removeTab(e),r()})}$("#"+d.tabDropdownMenuBtId+">div").append(a),r(),a.addEventListener("click",function(){d.focusTab(e)})}(s),m.bus.put("_frame",n,t),m.router.to(t,i,l),y()}return n}},e.prototype.focusTab=function(e){var t=this;$("#"+t.tabsTargetId+'>div>a[data-key="'+e+'"]').show().addClass("ck").siblings().removeClass("ck"),$("#"+t.tabBoxTargetId+'>div[data-key="'+e+'"]').addClass("ck").siblings().removeClass("ck"),t.focusMenu(e),t.isMenuRefresh&&t.refreshTab(e),y()},e.prototype.refreshTab=function(e){e=e||this.tab().key;var t=this.tab(e);m.router.to(t.url,t.data,t.boxId)},e.prototype.removeTab=function(e){e=e||$("#"+this.tabsTargetId+">div>a[class=ck]").attr("data-key"),m.router.unMount(this.tab(e).boxId);var t,a,n=$("#"+this.tabsTargetId+'>div>a[data-key="'+e+'"]');n.hasClass("ck")&&n.prev().click(),n.remove(),$("#"+this.tabBoxTargetId+'>div[data-key="'+e+'"]').remove(),$('a.yu-isMenu[data-key="'+e+'"]').attr("data-key",""),t=e,a=m.frame,$("#"+a.tabDropdownMenuBtId+' span[data-key="'+t+'"').remove(),2<$("#"+a.tabDropdownMenuBtId+" span").size()?$("#"+a.tabDropdownMenuBtId).show():$("#"+a.tabDropdownMenuBtId).hide(),y()},e.prototype.removeAllTab=function(){var a=this;$("#"+a.tabsTargetId+">div>a:not(:first)").each(function(e,t){a.removeTab($(t).attr("data-key"))})},e.prototype.removeOtherTab=function(a){var n=this;$("#"+n.tabsTargetId+">div>a:not(:first)").each(function(e,t){$(t).attr("data-key")!=a&&n.removeTab($(t).attr("data-key"))})},e.prototype.tab=function(e){e=e||$("#"+this.tabsTargetId+">div>a[class=ck]").attr("data-key");var t=$("#"+this.tabsTargetId+">div>a[data-key="+e+"]");return{key:e,url:t.attr("data-url"),title:t.attr("title"),data:t.data("data"),index:t.index(),boxId:$("#"+this.tabBoxTargetId+">div[data-key="+e+"]").attr("id")}},e.prototype.focusMenu=function(e){2==this.model?($(".yu-topFirstMenus").removeClass("ck"),$('a.yu-isMenu[data-key="'+$("#"+this.tabsTargetId+">div>a[class*=ck]").first().attr("data-key")+'"]').parents().children(".yu-topFirstMenus").addClass("ck")):($(".page-sidebar-menu li").removeClass("active").removeClass("open"),$('a.yu-isMenu[data-key="'+$("#"+this.tabsTargetId+">div>a[class*=ck]").first().attr("data-key")+'"]').parents("li").addClass("active").addClass("open"))},e.prototype.menuClick=function(e,i){var s=this;$(e).bind("click",function(){var e=$(this),t=e.attr("data-key");if(console.log(1111),t)s.focusTab(t),s.focusMenu(t);else{t="menu_"+e.attr("data-mId"),e.attr("data-key",t);var a={id:e.attr("data-url"),path:e.attr("data-path"),title:e.text(),key:t};console.log(m.session," yufp.session");var n={userId:m.session.userId,orgId:m.session.org.code,menuId:a.key,operFlag:"访问",logTypeId:"7",beforeValue:"",afterValue:"",content:"访问菜单:"+a.title+"路径:"+a.path};m.util.logInfo(n,"/example/log/menu"),s.addTab(a)}i&&"function"==m.type(i)&&i.call(this)})},e.prototype.getTimestamp=function(){return(new Date).valueOf()},e.prototype.exit=function(){m.session.logout(!0)},new e}(e,t,t.document);"function"==typeof define&&define(n),t.yufp.frame=n}(yufp,window);
define(function(n,e){(yufp.custom=e).vue=function(n){return new Vue(n)},e.getData=function(n){var e={};for(var f in n){if(0!==f.indexOf("m_")&&0!==f.indexOf("$"))"function"!=typeof n[f]&&(e[f]=n[f])}return e},e.setData=function(n,e){for(var f in n)e[f]=n[f];return e},e.viewSize=function(){return yufp.frame.size()}});
define(function(m){yufp.router.addRouteTable({login:{html:"pages/common/login/login.html",css:"pages/common/login/login.css",js:"pages/common/login/login.js"},frame:{html:"pages/common/frame/frame.html",js:"pages/common/frame/frame.js"},frameRight:{html:"pages/common/frame/frameRight.html",js:"pages/common/frame/frameRight.js"},frameTop:{html:"pages/common/frame/frameTop.html",js:"pages/common/frame/frameTop.js"},dashboard:{html:"pages/common/dashboard/dashboard.html",js:"pages/common/dashboard/dashboard.js"},modifyUserPassword:{html:"pages/common/login/modifyUserPassword.html",css:"pages/common/login/modifyUserPassword.css",js:"pages/common/login/modifyUserPassword.js"}})});
define(function(e){yufp.router.addRouteTable({SUserPageInfo:{html:"pages/system/SUserPageInfo.html",js:"pages/system/SUserPageInfo.html"},SOrgPageInfo:{html:"pages/system/SOrgPageInfo.html",js:"pages/system/SOrgPageInfo.js"},sDutyPageInfo:{html:"pages/system/sDutyPageInfo.html",js:"pages/system/sDutyPageInfo.js"}})});
define(function(e){yufp.router.addRouteTable({demoOne:{html:"pages/demo/demoOne.html",js:"pages/demo/demoOne.js"}})});